const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MainSidebar-BJSxIiLr.js","assets/_plugin-vue_export-helper-BwBpWJRZ.js","assets/src-DfShoi1k.js","assets/preload-helper-CR0ecmWK.js","assets/icon-B-yygaWQ.js","assets/vue.runtime.esm-bundler-DDuXT-9r.js","assets/chunk-6z4oVpB-.js","assets/truncate-CU7tM1AH.js","assets/_MapCache-CGDCbL4z.js","assets/sanitize-html-BuXr7o4T.js","assets/empty-BuGRxzl4.js","assets/path-browserify-DsmB_HMK.js","assets/en-BYTsM8fR.js","assets/src-sI-DsSQQ.css","assets/nodeCreator.store-BitGgxtz.js","assets/constants-Icf9Jupj.js","assets/merge-qpXyOahO.js","assets/useTelemetry-DDk4UBtV.js","assets/dateformat-D7TIhVd4.js","assets/useDebounce-BXD6uaW9.js","assets/useExternalHooks-DIeHOYfe.js","assets/nodeIcon-VTkVy9x0.js","assets/templates.store-3mu721hU.js","assets/cloudPlan.store-DtVFrvjm.js","assets/useToast-CEGrnEuj.js","assets/sortByProperty-0UtqPmvJ.js","assets/versions.store-B3MDrOfd.js","assets/MainSidebarUserArea-DoZMD44L.js","assets/MainSidebarUserArea-yJKeCkOz.css","assets/useBugReporting-WR8u7N3R.js","assets/usePageRedirectionHelper-DL_0CCPd.js","assets/useKeybindings-BRWiQaGQ.js","assets/personalizedTemplatesV3.store-2xHJMqh0.js","assets/constants-CPQyU8WO.js","assets/sourceControl.eventBus-B6OHW3VT.js","assets/MainSidebar-BBUhoceu.css","assets/DataTableView-DkHYTCHC.js","assets/useMessage-Do6N-7Ki.js","assets/overlay-6s3koUtq.js","assets/orderBy-BVjR32kb.js","assets/TimeAgo-Drt_72Uy.js","assets/smartDecimal-5rgLDM96.js","assets/ProjectIcon-BaMDJfAp.js","assets/ProjectIcon-DT95ZcDW.css","assets/EnterpriseEdition.ee-CAFpcz7O.js","assets/ResourcesListLayout-Be0qJn6e.js","assets/PageViewLayout-Ccqeja5V.js","assets/PageViewLayout-Cn6FD0Wt.css","assets/readyToRunWorkflowsV2.store-BOBYZps0.js","assets/folders.store-n0cFCHAH.js","assets/ProjectSharing-CUHOsNWw.js","assets/ProjectSharing-DsD3YT5P.css","assets/ResourcesListLayout-BXBf2iZI.css","assets/ProjectHeader-BBYdt4h4.js","assets/ProjectHeader-CY-3wSig.css","assets/DataTableActions-D6UxNskI.js","assets/dataTable.store-x1QdzbG0.js","assets/InsightsSummary-TzuT4fZQ.js","assets/insights.constants-NogjFJ3a.js","assets/insights.utils-5VTFh6JU.js","assets/InsightsSummary-D4HBxG4I.css","assets/insights.store-CpUtNNux.js","assets/DataTableView-ByKnlVtU.css","assets/DataTableDetailsView-CNAQcPqt.js","assets/date-picker-DVHGydwX.js","assets/SelectedItemsInfo-CRdmp2P8.js","assets/SelectedItemsInfo-DDbNnY7M.css","assets/useClipboard-xRVJ4uKv.js","assets/ProjectBreadcrumb-Bs8Oyy32.js","assets/ProjectBreadcrumb-CAEDvzuN.css","assets/DataTableDetailsView-D4DdqXoL.css","assets/AddDataTableModal-t0kis-5A.js","assets/dialog-BocJ3nyh.js","assets/Modal-DLV74RcH.js","assets/Modal-DNkRJkUt.css","assets/AddDataTableModal-BzS5Yqag.css","assets/InsightsDashboard-PXETlx1K.js","assets/InsightsDashboard-B5vBl-U6.css","assets/SettingsMCPView-CYnQnNNy.js","assets/useCanvasOperations-QF5fOJzj.js","assets/usePinnedData-B8yN6LYD.js","assets/focusPanel.store-CwyDmVKB.js","assets/executions.store-BdJfX-DE.js","assets/banners.store-bARJQDbB.js","assets/banners-UK5wWFEI.css","assets/sso.store-BzjMRjp0.js","assets/npsSurvey.store-2Ednwp0w.js","assets/roles.store-DaeEnoBG.js","assets/NodeIcon-D-0Er6x_.js","assets/NodeIcon-eaW3atZy.css","assets/useMcp-CR7SKIg-.js","assets/mcp.store-Cm5Cq23z.js","assets/useRecentResources-BgSz8iNh.js","assets/SettingsMCPView-BBO_ZyBU.css","assets/ChatSidebar-CWoOTZy5.js","assets/ModalDrawer-qQvFxRB_.js","assets/ModalDrawer-B-12esvU.css","assets/retry-sDkwzrPY.js","assets/useChatHubSidebarState-Coc7frxC.js","assets/CredentialIcon-ig9n4-qo.js","assets/CredentialIcon-bZrcXcyJ.css","assets/useAgent-BEhdGEzS.js","assets/ChatSidebar-DGlWPwKB.css","assets/ChatView-BchWAdQv.js","assets/VueMarkdown-DM3Su5ZP.js","assets/useChatCredentials-DZY4Oo3X.js","assets/useChatCredentials-AjXB38tk.css","assets/ChatView-DHznMgQO.css","assets/ChatAgentsView-BTpiJSF8.js","assets/ChatAgentsView-Be_TXcAc.css","assets/WorkflowsView-CIntrlry.js","assets/usage.store-EF13om-B.js","assets/Draggable-BIJhohZ6.js","assets/Draggable-DfBtatxg.css","assets/WorkflowActivator-CoxnlWaz.js","assets/useWorkflowActivate-GYMwyJwG.js","assets/useWorkflowSaving-xYJgnfrL.js","assets/WorkflowActivator-DSgMORP6.css","assets/readyToRunWorkflows.store-CeFXREeW.js","assets/ProjectCardBadge-Dp9oTcMP.js","assets/ProjectCardBadge-B_wj_mAB.css","assets/EmptySharedSectionActionBox-SicjAvgP.js","assets/TagsDropdown-CTwZzS96.js","assets/TagsDropdown-2j57MEiW.css","assets/WorkflowTagsDropdown-DxyoktIF.js","assets/WorkflowsView-2XTsT7zB.css","assets/CredentialsView-3x4FyXW8.js","assets/pickBy-CBJPpXCU.js","assets/externalSecrets.ee.store-520wkF-4.js","assets/CredentialsView-BDOl2A0w.css","assets/ProjectSettings-BPlaMhY5.js","assets/radio-C4v-WBZ4.js","assets/ProjectSettings-vir6puPd.css","assets/ExecutionsView-CFQMNasN.js","assets/AnimatedSpinner-Dd4F9nQ8.js","assets/AnimatedSpinner-CoP6Lyme.css","assets/dateFormatter-C73FfANG.js","assets/ExecutionsTime-BIkrh9dr.js","assets/AnnotationTagsDropdown.ee-DsNxP6ry.js","assets/ExecutionsTime-BpajgDjV.css","assets/useExecutionHelpers-DtnVpteU.js","assets/ExecutionsView-DP5OXlS4.css","assets/ProjectVariables-B3DNLcRT.js","assets/ProjectVariables-eH7fm87s.css","assets/ChangePasswordView-jDBxnPZY.js","assets/AuthView-C3YTMCeA.js","assets/AuthView-Dg9ZkCud.css","assets/ErrorView-Cp-Sbvi3.js","assets/ErrorView-D2OMvGTk.css","assets/EntityNotFound-CjoAVFbf.js","assets/EntityNotFound-D6gi5ngN.css","assets/EntityUnAuthorised-D8GdgE7V.js","assets/EntityUnAuthorised-D3XTbU6Y.css","assets/ForgotMyPasswordView-DkCLW5sj.js","assets/MainHeader-CbxR1Jg3.js","assets/useRunWorkflow-BlN1IiH4.js","assets/FileSaver.min-DaytN8ae.js","assets/usePushConnection-DYP8tw2Z.js","assets/assistant.store-CxmCUx3N.js","assets/schemaPreview.store-BPEQmpky.js","assets/KeyboardShortcutTooltip-C-2YYloH.js","assets/KeyboardShortcutTooltip-pRLqnHdh.css","assets/PushConnectionTracker-Bzb2oYvK.js","assets/SaveButton-rL60H9A8.js","assets/SaveButton-Dc01Y2MA.css","assets/useBeforeUnload-FA4glIDB.js","assets/useWorkflowsCache-wV8NKWjP.js","assets/MainHeader-Dz9UViYg.css","assets/LogsPanel-DfTXgdOk.js","assets/isEmpty-D3G71vXT.js","assets/uniqBy-BONBbAhL.js","assets/NDVEmptyState-D1SlEYH7.js","assets/NDVEmptyState-Hm1vFJ4i.css","assets/vue-json-pretty-BltKoWq2.js","assets/vue-LyXhKoPx.js","assets/chatPanel.store-CoqrlOKd.js","assets/RunDataHtml-DdtrEw19.js","assets/RunDataHtml-Bu3RZcuV.css","assets/isEmpty-CAtRkxE7.css","assets/core-6lPsS9S5.js","assets/core-CIkXL_1D.js","assets/xml-F7krcG3E.js","assets/LogsPanel-pyjoZz6W.js","assets/useLogsTreeExpand-D0-A_tvl.js","assets/useLogsTreeExpand-nZMKe2ps.css","assets/LogsPanel-GVBE8bfm.css","assets/DemoFooter-BcS3WIAj.js","assets/NodeView-DVEI33fC.js","assets/ParameterInputList-Bqokp4vn.js","assets/exports-D2D_Xd3F.js","assets/VirtualSchema-C-rnDcDp.js","assets/useTelemetryContext-DQDvyJNK.js","assets/useTelemetryContext-BpnKRIT7.css","assets/nodeTransforms-CoLf1BrP.js","assets/TextWithHighlights-CxxIad3D.js","assets/TextWithHighlights-BgbTzzK2.css","assets/VirtualSchema-BJ-Q30Fz.css","assets/ParameterInputList-D18bFGrO.css","assets/useCanvasMapping-CVI1StTO.js","assets/NodeSettings-DdVnzItV.js","assets/col-CTuLRntO.js","assets/CommunityNodeUpdateInfo-BYzenDIA.js","assets/semver-ByhVwUBf.js","assets/CommunityNodeUpdateInfo-kPDiipF5.css","assets/useActions-CmL22RGN.js","assets/NodeSettings-DKlYbu9E.css","assets/useCanvasMapping-Bldjj0CO.css","assets/useExecutionData-C0BhqHr0.js","assets/useExecutionDebugging-DKwSV70-.js","assets/NodeView-CnbgHMAv.css","assets/WorkflowExecutionsView-Cyndv2WH.js","assets/useIntersectionObserver-BkAtQAzK.js","assets/WorkflowExecutionsInfoAccordion-C38FY8QE.js","assets/WorkflowExecutionsInfoAccordion-CEOvJ-SX.css","assets/WorkflowExecutionsView-J4lWGYW8.css","assets/WorkflowExecutionsLandingPage-CmAvibzq.js","assets/WorkflowExecutionsLandingPage-DMldlKod.css","assets/WorkflowExecutionsPreview-DsDacUzb.js","assets/WorkflowPreview-CmVVweDo.js","assets/WorkflowPreview-CYpzxJej.css","assets/WorkflowExecutionsPreview-BkXT82z5.css","assets/SettingsView-2uQnI_R1.js","assets/SettingsView-6sirGv9l.css","assets/SettingsLdapView-B74G0qgK.js","assets/table-ovMo08-4.js","assets/SettingsLdapView-BuamZyhu.css","assets/SettingsPersonalView-BIM1l_4Z.js","assets/auth.eventBus-i11HyYyT.js","assets/SettingsPersonalView-DEpYU3TT.css","assets/SettingsUsersView-BBW8Fsml.js","assets/SettingsUsersView-CfJcVjkl.css","assets/SettingsCommunityNodesView-CLmON_aE.js","assets/SettingsCommunityNodesView-m7kLUpJK.css","assets/SettingsApiView-B-noSERJ.js","assets/apiKeys.store-CujcHqPp.js","assets/SettingsApiView-Dtl_N9mK.css","assets/SettingsLogStreamingView-D49uXoEs.js","assets/logStreaming.store-Pp3SGY8W.js","assets/SettingsLogStreamingView-xo-rTSA0.css","assets/SetupView-Cu6b76y7.js","assets/SigninView-BCwsKcBX.js","assets/SigninView-BQgsTN8o.css","assets/SignupView-DXaekgTt.js","assets/TemplatesCollectionView-DWfI3MDf.js","assets/TemplatesView-CbuXA3T-.js","assets/TemplatesView-iSPzXjQB.css","assets/TemplateList-DQOAY13E.js","assets/TemplateList-CNUtq0N7.css","assets/TemplateDetails-BE97FwtQ.js","assets/TemplateDetails-DfyKyMyy.css","assets/templateActions-ImOEllJl.js","assets/templateTransforms-BrIflQA5.js","assets/TemplatesCollectionView-klb8FT9y.css","assets/TemplatesWorkflowView-CKn4S8EQ.js","assets/TemplatesWorkflowView-CBjRBbmw.css","assets/SetupWorkflowFromTemplateView-C05zWevd.js","assets/SetupTemplateFormStep-B-q4X9Q8.js","assets/SetupTemplateFormStep-She0GnTz.css","assets/SetupWorkflowFromTemplateView-CU2iGJTa.css","assets/TemplatesSearchView-sa-rAY94.js","assets/TemplatesSearchView-BfT0LMil.css","assets/SettingsUsageAndPlan-BuFH_khO.js","assets/SettingsUsageAndPlan-DcH3fsn1.css","assets/SettingsSso-rC_BPKUi.js","assets/CopyInput-DLuHOYPw.js","assets/CopyInput-BiDmlr9B.css","assets/SettingsSso-w7Iz4Luy.css","assets/SignoutView-Dr1qQkBu.js","assets/SamlOnboarding-XQVQYUbN.js","assets/SettingsSourceControl-E5DYtfMz.js","assets/SettingsSourceControl-DEs9MNB6.css","assets/SettingsExternalSecrets-DNnsVQsZ.js","assets/ExternalSecretsProviderConnectionSwitch.ee-Bj4_UmUJ.js","assets/ExternalSecretsProviderConnectionSwitch-dpp96SMy.css","assets/SettingsExternalSecrets-CaiOf7cD.css","assets/SettingsProvisioningView-CanbitK-.js","assets/SettingsProvisioningView-Dhfda99J.css","assets/WorkerView-D3J0pV2u.js","assets/chart-BI8B7UPV.js","assets/dist-CWw8iddm.js","assets/WorkerView-4m_NaoAx.css","assets/WorkflowHistory-D-xGylsu.js","assets/WorkflowHistory-BmerBiKz.css","assets/WorkflowOnboardingView-GauJzzDn.js","assets/EvaluationsView-68czzLEN.js","assets/evaluation.constants-DoKAO_7C.js","assets/evaluation-CGxdCHrN.css","assets/EvaluationsView-CmcDUAS_.css","assets/TestRunDetailView-D1TxGvAH.js","assets/TestRunDetailView-CVGty0j0.css","assets/EvaluationsRootView-P2eirmhi.js","assets/EvaluationsRootView-BVNlhh2l.css","assets/PrebuiltAgentTemplatesView-DlEGenee.js","assets/PrebuiltAgentTemplatesView-jF7HvWnL.css","assets/ProjectRolesView-KbPHKITr.js","assets/ProjectRolesView-Bpk_JP1z.css","assets/ProjectRoleView-DyIfF-PR.js","assets/ProjectRoleView-Ds9qdhh9.css"])))=>i.map(i=>d[i]);
import { C as computed, Gt as unref, L as h, M as createVNode, P as defineComponent, Sn as toDisplayString, T as createBlock, bt as withCtx, et as openBlock, j as createTextVNode, ot as resolveComponent } from "./vue.runtime.esm-bundler-DDuXT-9r.js";
import { _t as I18nT, gt as useI18n } from "./_MapCache-CGDCbL4z.js";
import { t as __vitePreload } from "./preload-helper-CR0ecmWK.js";
import { _ as isNavigationFailure, g as createWebHistory, h as createRouter, m as RouterView } from "./truncate-CU7tM1AH.js";
import { $n as hasRole, Ci as tryToParseNumber, Dn as useSourceControlStore, En as useProjectsStore, Fi as register, Jn as isDefaultUser, Kn as isGuest, Ni as useUIStore, Qn as useRBACStore, Ro as useSettingsStore, Xn as shouldEnableMfa, Yn as isAuthenticated, Ys as useRootStore, Zn as hasScope, er as useUsersStore, i as usePostHog, ic as MfaRequiredError, qn as isEnterpriseFeatureEnabled, rt as useNodeTypesStore, t as useTelemetry } from "./useTelemetry-DDk4UBtV.js";
import { t as useToast } from "./useToast-CEGrnEuj.js";
import { Bs as EnterpriseEditionFeature, Kn as DATA_TABLE_VIEW, Ln as ADD_DATA_TABLE_MODAL_KEY, Vn as DATA_TABLE_DETAILS, _r as getResourcePermissions, fo as EDITABLE_CANVAS_VIEWS, ir as PROJECT_DATA_TABLES, mo as VIEWS } from "./constants-Icf9Jupj.js";
import { t as useExternalHooks } from "./useExternalHooks-DIeHOYfe.js";
import { t as useNpsSurveyStore } from "./npsSurvey.store-2Ednwp0w.js";
import { t as useCloudPlanStore } from "./cloudPlan.store-DtVFrvjm.js";
import { t as useTemplatesStore } from "./templates.store-3mu721hU.js";
import { _ as useCalloutHelpers } from "./nodeCreator.store-BitGgxtz.js";
import { t as useVersionsStore } from "./versions.store-B3MDrOfd.js";
import { t as useBannersStore } from "./banners.store-bARJQDbB.js";
import { t as useDataTableStore } from "./dataTable.store-x1QdzbG0.js";
import { t as useRolesStore } from "./roles.store-DaeEnoBG.js";
import { n as useSSOStore } from "./sso.store-BzjMRjp0.js";
import { t as useInsightsStore } from "./insights.store-CpUtNNux.js";
import { i as MCP_SETTINGS_VIEW } from "./useMcp-CR7SKIg-.js";
import { i as CHAT_VIEW, n as CHAT_CONVERSATION_VIEW, t as CHAT_AGENTS_VIEW } from "./constants-CPQyU8WO.js";
import { t as useRecentResources } from "./useRecentResources-BgSz8iNh.js";
const authenticatedMiddleware = async (to, _from, next, options) => {
	const url = new URL(window.location.href);
	url.searchParams.delete("redirect");
	const redirect = to.query.redirect ?? encodeURIComponent(`${url.pathname}${url.search}`);
	if (!isAuthenticated(options)) return next({
		name: VIEWS.SIGNIN,
		query: { redirect }
	});
	if (shouldEnableMfa()) {
		if (to.name !== VIEWS.PERSONAL_SETTINGS) return next({
			name: VIEWS.PERSONAL_SETTINGS,
			query: { redirect }
		});
		return;
	}
};
const enterpriseMiddleware = async (_to, _from, next, options) => {
	if (!isEnterpriseFeatureEnabled(options)) return next({ name: VIEWS.HOMEPAGE });
};
const guestMiddleware = async (to, _from, next) => {
	if (!isGuest()) {
		const redirect = to.query.redirect ?? "";
		if (redirect.startsWith("/")) return next(redirect);
		try {
			if (new URL(redirect).origin === window.location.origin) return next(redirect);
		} catch {}
		return next({ name: VIEWS.HOMEPAGE });
	}
};
function inferProjectIdFromRoute(to) {
	const routeParts = to.path.split("/");
	const projectsIndex = routeParts.indexOf("projects");
	return routeParts[projectsIndex !== -1 ? projectsIndex + 1 : -1];
}
function inferResourceTypeFromRoute(to) {
	const routeParts = to.path.split("/");
	const routeMap = {
		workflow: "workflows",
		credential: "credentials",
		user: "users",
		variable: "variables",
		sourceControl: "source-control",
		externalSecret: "external-secrets"
	};
	const isResource = (key) => routeParts.includes(routeMap[key]);
	for (const resource of Object.keys(routeMap)) if (isResource(resource)) return resource;
}
function inferResourceIdFromRoute(to) {
	return to.params.id ?? to.params.name;
}
const rbacMiddleware = async (to, _from, next, { scope, options }) => {
	const projectId = inferProjectIdFromRoute(to);
	const resourceType = inferResourceTypeFromRoute(to);
	if (!hasScope({
		scope,
		projectId,
		resourceType,
		resourceId: resourceType ? inferResourceIdFromRoute(to) : void 0,
		options
	})) return next({ name: VIEWS.HOMEPAGE });
};
const roleMiddleware = async (_to, _from, next, checkRoles) => {
	if (!hasRole(checkRoles)) return next({ name: VIEWS.HOMEPAGE });
};
const customMiddleware = async (to, from, next, isValid) => {
	if (!isValid({
		to,
		from,
		next
	})) return next({ name: VIEWS.HOMEPAGE });
};
const defaultUserMiddleware = async (_to, _from, next) => {
	if (!isDefaultUser()) return next({ name: VIEWS.HOMEPAGE });
};
const middleware = {
	authenticated: authenticatedMiddleware,
	custom: customMiddleware,
	defaultUser: defaultUserMiddleware,
	enterprise: enterpriseMiddleware,
	guest: guestMiddleware,
	rbac: rbacMiddleware,
	role: roleMiddleware
};
var SourceControlInitializationErrorMessage_default = /* @__PURE__ */ defineComponent({
	__name: "SourceControlInitializationErrorMessage",
	setup(__props) {
		const i18n$2 = useI18n();
		return (_ctx, _cache) => {
			const _component_RouterLink = resolveComponent("RouterLink");
			return openBlock(), createBlock(unref(I18nT), {
				keypath: "settings.sourceControl.connection.error.message",
				tag: "div",
				scope: "global"
			}, {
				link: withCtx(() => [createVNode(_component_RouterLink, { to: { name: unref(VIEWS).SOURCE_CONTROL } }, {
					default: withCtx(() => [createTextVNode(toDisplayString(unref(i18n$2).baseText("settings.sourceControl.connection.error.link")), 1)]),
					_: 1
				}, 8, ["to"])]),
				_: 1
			});
		};
	}
});
var i18n$1 = useI18n();
var MainSidebar$3 = async () => await __vitePreload(() => import("./MainSidebar-BJSxIiLr.js"), __vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]));
var DataTableView = async () => await __vitePreload(() => import("./DataTableView-DkHYTCHC.js"), __vite__mapDeps([36,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,39,40,41,42,43,44,45,46,47,48,23,49,50,51,52,53,54,55,56,57,58,59,60,61,62]));
var DataTableDetailsView = async () => await __vitePreload(() => import("./DataTableDetailsView-CNAQcPqt.js"), __vite__mapDeps([63,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,64,37,24,20,38,39,42,43,65,66,67,55,56,68,69,70]));
const DataTableModule = {
	id: "data-table",
	name: "Data Table",
	description: "Manage and store data efficiently with the Data Table module.",
	icon: "database",
	modals: [{
		key: ADD_DATA_TABLE_MODAL_KEY,
		component: async () => await __vitePreload(() => import("./AddDataTableModal-t0kis-5A.js"), __vite__mapDeps([71,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,24,20,73,74,56,75])),
		initialState: { open: false }
	}],
	routes: [
		{
			name: DATA_TABLE_VIEW,
			path: "/home/datatables",
			components: {
				default: DataTableView,
				sidebar: MainSidebar$3
			},
			meta: { middleware: ["authenticated", "custom"] }
		},
		{
			name: PROJECT_DATA_TABLES,
			path: "datatables/:new(new)?",
			props: true,
			components: {
				default: DataTableView,
				sidebar: MainSidebar$3
			},
			meta: {
				projectRoute: true,
				middleware: ["authenticated", "custom"]
			}
		},
		{
			name: DATA_TABLE_DETAILS,
			path: "datatables/:id",
			props: true,
			components: {
				default: DataTableDetailsView,
				sidebar: MainSidebar$3
			},
			meta: {
				projectRoute: true,
				middleware: ["authenticated", "custom"]
			}
		}
	],
	projectTabs: {
		overview: [{
			label: i18n$1.baseText("dataTable.dataTables"),
			value: DATA_TABLE_VIEW,
			to: { name: DATA_TABLE_VIEW }
		}],
		project: [{
			label: i18n$1.baseText("dataTable.dataTables"),
			value: PROJECT_DATA_TABLES,
			dynamicRoute: {
				name: PROJECT_DATA_TABLES,
				includeProjectId: true
			}
		}]
	},
	resources: [{
		key: "dataTable",
		displayName: "Data Table"
	}]
};
var resources = /* @__PURE__ */ new Map();
function registerResource(metadata) {
	resources.set(metadata.key, metadata);
}
var MainSidebar$2 = async () => await __vitePreload(() => import("./MainSidebar-BJSxIiLr.js"), __vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]));
var InsightsDashboard = async () => await __vitePreload(() => import("./InsightsDashboard-PXETlx1K.js"), __vite__mapDeps([76,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,24,20,39,41,42,43,26,30,23,50,51,57,58,59,60,61,77]));
const InsightsModule = {
	id: "insights",
	name: "Insights",
	description: "Provides insights and analytics features for projects.",
	icon: "chart-column-decreasing",
	routes: [{
		path: "/insights",
		beforeEnter() {
			return useInsightsStore().isInsightsEnabled || { name: VIEWS.NOT_FOUND };
		},
		components: {
			default: RouterView,
			sidebar: MainSidebar$2
		},
		meta: {
			middleware: ["authenticated", "rbac"],
			middlewareOptions: { rbac: { scope: ["insights:list"] } }
		},
		children: [{
			path: ":insightType?",
			name: VIEWS.INSIGHTS,
			beforeEnter(to) {
				if (to.params.insightType) return true;
				return Object.assign(to, { params: {
					...to.params,
					insightType: "total"
				} });
			},
			component: InsightsDashboard,
			props: true
		}]
	}]
};
var i18n = useI18n();
var SettingsMCPView = async () => await __vitePreload(() => import("./SettingsMCPView-CYnQnNNy.js"), __vite__mapDeps([78,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,79,67,80,81,49,82,42,43,83,84,85,86,87,26,88,89,33,90,91,56,61,59,58,92,93]));
const MCPModule = {
	id: "mcp",
	name: "MCP Access",
	description: "Access your n8n instance through MCP clients",
	icon: "mcp",
	routes: [{
		path: "mcp",
		name: MCP_SETTINGS_VIEW,
		components: { settingsView: SettingsMCPView },
		meta: {
			middleware: ["authenticated", "custom"],
			telemetry: { pageCategory: "settings" }
		}
	}],
	settingsPages: [{
		id: "settings-mcp",
		icon: "mcp",
		label: i18n.baseText("settings.mcp"),
		position: "top",
		route: { to: { name: MCP_SETTINGS_VIEW } }
	}]
};
var ChatSidebar = async () => await __vitePreload(() => import("./ChatSidebar-CWoOTZy5.js"), __vite__mapDeps([94,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,95,96,37,24,20,97,27,28,98,33,99,100,101,102]));
var ChatView = async () => await __vitePreload(() => import("./ChatView-BchWAdQv.js"), __vite__mapDeps([103,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,37,24,20,104,97,73,74,67,98,33,99,100,105,106,101,107]));
var ChatAgentsView = async () => await __vitePreload(() => import("./ChatAgentsView-BTpiJSF8.js"), __vite__mapDeps([108,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,37,24,20,40,97,73,74,98,33,99,100,105,106,109]));
var modules = [
	InsightsModule,
	DataTableModule,
	MCPModule,
	{
		id: "chat-hub",
		name: "Chat",
		description: "Interact with various LLM models or your n8n AI agents.",
		icon: "chat",
		modals: [],
		routes: [
			{
				name: CHAT_VIEW,
				path: "/home/chat",
				components: {
					default: ChatView,
					sidebar: ChatSidebar
				},
				meta: { middleware: ["authenticated", "custom"] }
			},
			{
				name: CHAT_CONVERSATION_VIEW,
				path: "/home/chat/:id",
				components: {
					default: ChatView,
					sidebar: ChatSidebar
				},
				meta: { middleware: ["authenticated", "custom"] }
			},
			{
				name: CHAT_AGENTS_VIEW,
				path: "/home/chat/agents",
				components: {
					default: ChatAgentsView,
					sidebar: ChatSidebar
				},
				meta: { middleware: ["authenticated", "custom"] }
			}
		],
		projectTabs: {
			overview: [],
			project: []
		},
		resources: [{
			key: "chat",
			displayName: "Chat"
		}]
	}
];
const registerModuleResources = () => {
	modules.forEach((module) => {
		module.resources?.forEach((resource) => {
			registerResource(resource);
		});
	});
};
const registerModuleProjectTabs = () => {
	const uiStore = useUIStore();
	modules.forEach((module) => {
		if (module.projectTabs) {
			if (module.projectTabs.overview) uiStore.registerCustomTabs("overview", module.id, module.projectTabs.overview);
			if (module.projectTabs.project) uiStore.registerCustomTabs("project", module.id, module.projectTabs.project);
			if (module.projectTabs.shared) uiStore.registerCustomTabs("shared", module.id, module.projectTabs.shared);
		}
	});
};
const registerModuleSettingsPages = () => {
	const uiStore = useUIStore();
	modules.forEach((module) => {
		if (module.settingsPages && module.settingsPages.length > 0) uiStore.registerSettingsPages(module.id, module.settingsPages);
	});
};
var checkModuleAvailability = (options) => {
	if (!options?.to?.meta?.moduleName || typeof options.to.meta.moduleName !== "string") return true;
	return useSettingsStore().isModuleActive(options.to.meta.moduleName);
};
const registerModuleModals = () => {
	modules.forEach((module) => {
		module.modals?.forEach((modalDef) => {
			register(modalDef);
		});
	});
	useUIStore().initializeModalsFromRegistry();
};
const registerModuleRoutes = (router$1) => {
	modules.forEach((module) => {
		module.routes?.forEach((route) => {
			const enhancedRoute = {
				...route,
				meta: {
					...route.meta,
					moduleName: module.id,
					...route.meta?.middleware?.includes("custom") && { middlewareOptions: {
						...route.meta?.middlewareOptions,
						custom: checkModuleAvailability
					} }
				}
			};
			if (route.meta?.projectRoute) router$1.addRoute(VIEWS.PROJECT_DETAILS, enhancedRoute);
			else if (route.meta?.telemetry && route.meta.telemetry.pageCategory === "settings") router$1.addRoute(VIEWS.SETTINGS, enhancedRoute);
			else router$1.addRoute(enhancedRoute);
		});
	});
};
const state = { initialized: false };
var authenticatedFeaturesInitialized = false;
async function initializeCore() {
	if (state.initialized) return;
	const settingsStore = useSettingsStore();
	const usersStore = useUsersStore();
	const versionsStore = useVersionsStore();
	const ssoStore = useSSOStore();
	const bannersStore = useBannersStore();
	const toast = useToast();
	const i18n$2 = useI18n();
	registerAuthenticationHooks();
	try {
		await settingsStore.initialize();
	} catch (error) {
		toast.showToast({
			title: i18n$2.baseText("startupError"),
			message: i18n$2.baseText("startupError.message"),
			type: "error",
			duration: 0
		});
	}
	ssoStore.initialize({
		authenticationMethod: settingsStore.userManagement.authenticationMethod,
		config: settingsStore.settings.sso,
		features: {
			saml: settingsStore.isEnterpriseFeatureEnabled[EnterpriseEditionFeature.Saml],
			ldap: settingsStore.isEnterpriseFeatureEnabled[EnterpriseEditionFeature.Ldap],
			oidc: settingsStore.isEnterpriseFeatureEnabled[EnterpriseEditionFeature.Oidc]
		}
	});
	const banners = [];
	if (settingsStore.isEnterpriseFeatureEnabled.showNonProdBanner) banners.push("NON_PRODUCTION_LICENSE");
	if (!(settingsStore.settings.banners?.dismissed || []).includes("V1") && settingsStore.settings.versionCli.startsWith("1.")) banners.push("V1");
	bannersStore.loadStaticBanners({ banners });
	versionsStore.initialize(settingsStore.settings.versionNotifications);
	useExternalHooks().run("app.mount");
	if (!settingsStore.isPreviewMode) await usersStore.initialize({ quota: settingsStore.userManagement.quota });
	state.initialized = true;
}
async function initializeAuthenticatedFeatures(initialized = authenticatedFeaturesInitialized, routeName) {
	if (initialized) return;
	if (!useUsersStore().currentUser) return;
	const i18n$2 = useI18n();
	const toast = useToast();
	const sourceControlStore = useSourceControlStore();
	const settingsStore = useSettingsStore();
	const rootStore = useRootStore();
	const nodeTypesStore = useNodeTypesStore();
	const cloudPlanStore = useCloudPlanStore();
	const projectsStore = useProjectsStore();
	const rolesStore = useRolesStore();
	const insightsStore = useInsightsStore();
	const bannersStore = useBannersStore();
	const versionsStore = useVersionsStore();
	const dataTableStore = useDataTableStore();
	if (sourceControlStore.isEnterpriseSourceControlEnabled) try {
		await sourceControlStore.getPreferences();
	} catch (e) {
		toast.showMessage({
			title: i18n$2.baseText("settings.sourceControl.connection.error"),
			message: h(SourceControlInitializationErrorMessage_default),
			type: "error",
			duration: 0
		});
		console.error("Failed to initialize source control store", e);
	}
	if (rootStore.defaultLocale !== "en") await nodeTypesStore.getNodeTranslationHeaders();
	if (settingsStore.isCloudDeployment) cloudPlanStore.initialize().then(() => {
		if (cloudPlanStore.userIsTrialing) if (cloudPlanStore.trialExpired) bannersStore.pushBannerToStack("TRIAL_OVER");
		else bannersStore.pushBannerToStack("TRIAL");
		else if (cloudPlanStore.currentUserCloudInfo?.confirmed === false) bannersStore.pushBannerToStack("EMAIL_CONFIRMATION");
	}).catch((error) => {
		console.error("Failed to initialize cloud plan store:", error);
	});
	if (settingsStore.isDataTableFeatureEnabled) dataTableStore.fetchDataTableSize().then(({ quotaStatus }) => {
		if (quotaStatus === "error") bannersStore.pushBannerToStack("DATA_TABLE_STORAGE_LIMIT_ERROR");
		else if (quotaStatus === "warn") bannersStore.pushBannerToStack("DATA_TABLE_STORAGE_LIMIT_WARNING");
	}).catch((error) => {
		console.error("Failed to fetch data table limits:", error);
	});
	if (insightsStore.isSummaryEnabled) insightsStore.weeklySummary.execute();
	if (!settingsStore.isPreviewMode && routeName !== VIEWS.DEMO) versionsStore.checkForNewVersions();
	await Promise.all([
		projectsStore.getMyProjects(),
		projectsStore.getPersonalProject(),
		projectsStore.getProjectsCount(),
		rolesStore.fetchRoles()
	]);
	registerModuleResources();
	registerModuleProjectTabs();
	registerModuleModals();
	registerModuleSettingsPages();
	authenticatedFeaturesInitialized = true;
}
function registerAuthenticationHooks() {
	const rootStore = useRootStore();
	const usersStore = useUsersStore();
	const cloudPlanStore = useCloudPlanStore();
	const postHogStore = usePostHog();
	const bannersStore = useBannersStore();
	const npsSurveyStore = useNpsSurveyStore();
	const telemetry = useTelemetry();
	const RBACStore = useRBACStore();
	const settingsStore = useSettingsStore();
	usersStore.registerLoginHook(async (user) => {
		await settingsStore.getSettings();
		RBACStore.setGlobalScopes(user.globalScopes ?? []);
		telemetry.identify(rootStore.instanceId, user.id, rootStore.versionCli);
		postHogStore.init(user.featureFlags);
		npsSurveyStore.setupNpsSurveyOnLogin(user.id, user.settings);
		settingsStore.getModuleSettings();
		bannersStore.loadDynamicBanners();
	});
	usersStore.registerLogoutHook(() => {
		bannersStore.clearBannerStack();
		npsSurveyStore.resetNpsSurveyOnLogOut();
		postHogStore.reset();
		cloudPlanStore.reset();
		telemetry.reset();
		RBACStore.setGlobalScopes([]);
	});
}
var MainSidebar$1 = async () => await __vitePreload(() => import("./MainSidebar-BJSxIiLr.js"), __vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]));
var WorkflowsView = async () => await __vitePreload(() => import("./WorkflowsView-CIntrlry.js"), __vite__mapDeps([110,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,37,24,38,39,40,41,42,43,86,111,112,113,44,88,89,114,115,116,81,68,69,49,117,45,46,47,48,50,51,52,53,54,118,32,90,91,119,120,121,57,58,59,60,61,122,123,124,125]));
var CredentialsView = async () => await __vitePreload(() => import("./CredentialsView-3x4FyXW8.js"), __vite__mapDeps([126,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,39,127,40,41,42,43,44,45,46,47,48,23,49,50,51,52,53,54,119,120,121,99,100,57,58,59,60,61,128,129]));
var ProjectSettings = async () => await __vitePreload(() => import("./ProjectSettings-BPlaMhY5.js"), __vite__mapDeps([130,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,24,20,131,39,42,43,87,26,30,23,53,48,49,54,50,51,132]));
var ExecutionsView = async () => await __vitePreload(() => import("./ExecutionsView-CFQMNasN.js"), __vite__mapDeps([133,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,64,37,24,20,38,41,42,43,26,134,135,65,66,30,23,136,53,48,49,54,137,138,122,123,124,139,140,82,57,58,59,60,61,141]));
var ProjectVariables = async () => await __vitePreload(() => import("./ProjectVariables-B3DNLcRT.js"), __vite__mapDeps([142,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,39,127,41,42,43,26,44,45,46,47,48,23,49,50,51,52,67,30,53,54,57,58,59,60,61,143]));
var checkProjectAvailability = (to) => {
	if (!to?.params.projectId) return true;
	return !!useProjectsStore().myProjects.find((p) => to?.params.projectId === p.id);
};
var commonChildRoutes = [
	{
		path: "workflows",
		components: {
			default: WorkflowsView,
			sidebar: MainSidebar$1
		},
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
		}
	},
	{
		path: "credentials/:credentialId?",
		props: true,
		components: {
			default: CredentialsView,
			sidebar: MainSidebar$1
		},
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
		}
	},
	{
		path: "executions",
		components: {
			default: ExecutionsView,
			sidebar: MainSidebar$1
		},
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
		}
	},
	{
		path: "folders/:folderId?/workflows",
		components: {
			default: WorkflowsView,
			sidebar: MainSidebar$1
		},
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
		}
	},
	{
		path: "variables",
		components: {
			default: ProjectVariables,
			sidebar: MainSidebar$1
		},
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
		}
	}
];
var commonChildRouteExtensions = {
	home: [
		{ name: VIEWS.WORKFLOWS },
		{ name: VIEWS.CREDENTIALS },
		{ name: VIEWS.EXECUTIONS },
		{ name: VIEWS.FOLDERS },
		{ name: VIEWS.HOME_VARIABLES }
	],
	projects: [
		{ name: VIEWS.PROJECTS_WORKFLOWS },
		{ name: VIEWS.PROJECTS_CREDENTIALS },
		{ name: VIEWS.PROJECTS_EXECUTIONS },
		{ name: VIEWS.PROJECTS_FOLDERS },
		{ name: VIEWS.PROJECTS_VARIABLES }
	]
};
const projectsRoutes = [
	{
		path: "/projects",
		name: VIEWS.PROJECTS,
		meta: { middleware: ["authenticated"] },
		redirect: "/home/workflows",
		children: [{
			name: VIEWS.PROJECT_DETAILS,
			path: ":projectId",
			meta: { middleware: ["authenticated"] },
			redirect: { name: VIEWS.PROJECTS_WORKFLOWS },
			children: commonChildRoutes.map((route, idx) => ({
				...route,
				name: commonChildRouteExtensions.projects[idx].name
			})).concat([{
				path: "settings",
				name: VIEWS.PROJECT_SETTINGS,
				components: {
					default: ProjectSettings,
					sidebar: MainSidebar$1
				},
				meta: {
					middleware: ["authenticated", "custom"],
					middlewareOptions: { custom: (options) => {
						return !!getResourcePermissions(useProjectsStore().myProjects.find((p) => p.id === options?.to.params.projectId)?.scopes).project.update;
					} }
				}
			}])
		}]
	},
	{
		path: "/home",
		name: VIEWS.HOMEPAGE,
		meta: { middleware: ["authenticated"] },
		redirect: "/home/workflows",
		children: commonChildRoutes.map((route, idx) => ({
			...route,
			name: commonChildRouteExtensions.home[idx].name
		}))
	},
	{
		path: "/shared",
		name: VIEWS.SHARED_WITH_ME,
		meta: { middleware: ["authenticated"] },
		redirect: "/shared/workflows",
		children: [{
			path: "workflows",
			name: VIEWS.SHARED_WORKFLOWS,
			components: {
				default: WorkflowsView,
				sidebar: MainSidebar$1
			},
			meta: {
				middleware: ["authenticated", "custom"],
				middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
			}
		}, {
			path: "credentials/:credentialId?",
			props: true,
			name: VIEWS.SHARED_CREDENTIALS,
			components: {
				default: CredentialsView,
				sidebar: MainSidebar$1
			},
			meta: {
				middleware: ["authenticated", "custom"],
				middlewareOptions: { custom: (options) => checkProjectAvailability(options?.to) }
			}
		}]
	},
	{
		path: "/workflows",
		redirect: "/home/workflows"
	},
	{
		path: "/credentials",
		redirect: "/home/credentials"
	},
	{
		path: "/executions",
		redirect: "/home/executions"
	},
	{
		path: "/variables",
		redirect: "/home/variables"
	}
];
const useEnvFeatureFlag = () => {
	const settingsStore = useSettingsStore();
	return { check: computed(() => (flag) => {
		const key = `N8N_ENV_FEAT_${flag}`;
		const settingsProvidedEnvFeatFlag = settingsStore.settings.envFeatureFlags?.[key];
		if (settingsProvidedEnvFeatFlag !== void 0) return settingsProvidedEnvFeatFlag !== "false" && !!settingsProvidedEnvFeatFlag;
		const buildTimeValue = {
			"BASE_URL": "/%7B%7BBASE_PATH%7D%7D/",
			"DEV": false,
			"LEGACY": false,
			"MODE": "production",
			"PROD": true,
			"SSR": false,
			"VUE_APP_PUBLIC_PATH": "/{{BASE_PATH}}/"
		}[key];
		if (buildTimeValue !== void 0) return buildTimeValue !== "false" && !!buildTimeValue;
		return false;
	}) };
};
var ChangePasswordView = async () => await __vitePreload(() => import("./ChangePasswordView-jDBxnPZY.js"), __vite__mapDeps([144,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,145,146]));
var ErrorView = async () => await __vitePreload(() => import("./ErrorView-Cp-Sbvi3.js"), __vite__mapDeps([147,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,148]));
var EntityNotFound = async () => await __vitePreload(() => import("./EntityNotFound-CjoAVFbf.js"), __vite__mapDeps([149,1,2,3,4,5,6,7,8,9,10,11,12,13,150]));
var EntityUnAuthorised = async () => await __vitePreload(() => import("./EntityUnAuthorised-D8GdgE7V.js"), __vite__mapDeps([151,1,2,3,4,5,6,7,8,9,10,11,12,13,152]));
var ForgotMyPasswordView = async () => await __vitePreload(() => import("./ForgotMyPasswordView-DkCLW5sj.js"), __vite__mapDeps([153,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,145,146]));
var MainHeader = async () => await __vitePreload(() => import("./MainHeader-CbxR1Jg3.js"), __vite__mapDeps([154,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,155,24,79,67,80,81,49,82,97,116,37,38,86,156,157,158,159,118,48,42,43,83,84,26,44,160,161,162,163,164,114,115,68,69,117,165,30,166,90,122,123,124,167]));
var MainSidebar = async () => await __vitePreload(() => import("./MainSidebar-BJSxIiLr.js"), __vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]));
var LogsPanel = async () => await __vitePreload(() => import("./LogsPanel-DfTXgdOk.js"), __vite__mapDeps([168,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,169,155,24,79,67,80,81,49,82,97,116,37,38,86,156,170,171,172,173,174,158,159,175,140,136,128,176,177,178,179,180,181,104,182,183,134,135,88,89,184,160,161,31,185]));
var DemoFooter = async () => await __vitePreload(() => import("./DemoFooter-BcS3WIAj.js"), __vite__mapDeps([186,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,169,155,24,79,67,80,81,49,82,97,116,37,38,86,156,170,171,172,173,174,158,159,175,140,136,128,176,177,178,179,180,181,104,182,183,134,135,88,89,184,160,161,31,185]));
var NodeView = async () => await __vitePreload(() => import("./NodeView-DVEI33fC.js"), __vite__mapDeps([187,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,169,155,24,79,67,80,81,49,82,97,116,37,38,86,156,170,171,172,173,174,158,159,175,140,136,128,176,177,178,188,189,64,72,190,112,113,88,89,191,192,193,194,195,196,197,198,199,200,56,201,202,203,204,205,160,161,31,206,26,165,30,118,207,208,34,209]));
var WorkflowExecutionsView = async () => await __vitePreload(() => import("./WorkflowExecutionsView-Cyndv2WH.js"), __vite__mapDeps([210,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,64,37,24,38,79,67,80,81,49,82,86,26,211,30,116,136,137,138,122,123,124,139,212,213,140,214]));
var WorkflowExecutionsLandingPage = async () => await __vitePreload(() => import("./WorkflowExecutionsLandingPage-CmAvibzq.js"), __vite__mapDeps([215,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,86,116,81,22,23,212,213,216]));
var WorkflowExecutionsPreview = async () => await __vitePreload(() => import("./WorkflowExecutionsPreview-DsDacUzb.js"), __vite__mapDeps([217,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,26,218,82,219,30,23,136,208,140,138,122,123,220]));
var SettingsView = async () => await __vitePreload(() => import("./SettingsView-2uQnI_R1.js"), __vite__mapDeps([221,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,222]));
var SettingsLdapView = async () => await __vitePreload(() => import("./SettingsLdapView-B74G0qgK.js"), __vite__mapDeps([223,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,174,17,18,19,37,24,20,38,224,85,26,30,23,225]));
var SettingsPersonalView = async () => await __vitePreload(() => import("./SettingsPersonalView-BIM1l_4Z.js"), __vite__mapDeps([226,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,23,227,228]));
var SettingsUsersView = async () => await __vitePreload(() => import("./SettingsUsersView-BBW8Fsml.js"), __vite__mapDeps([229,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,131,85,26,44,67,30,23,136,230]));
var SettingsCommunityNodesView = async () => await __vitePreload(() => import("./SettingsCommunityNodesView-CLmON_aE.js"), __vite__mapDeps([231,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,155,24,79,67,80,81,49,82,97,116,37,38,86,202,157,158,159,118,48,232]));
var SettingsApiView = async () => await __vitePreload(() => import("./SettingsApiView-B-noSERJ.js"), __vite__mapDeps([233,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,200,37,24,20,38,234,26,30,23,235]));
var SettingsLogStreamingView = async () => await __vitePreload(() => import("./SettingsLogStreamingView-D49uXoEs.js"), __vite__mapDeps([236,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,200,37,24,20,38,237,26,30,23,238]));
var SetupView = async () => await __vitePreload(() => import("./SetupView-Cu6b76y7.js"), __vite__mapDeps([239,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,145,146]));
var SigninView = async () => await __vitePreload(() => import("./SigninView-BCwsKcBX.js"), __vite__mapDeps([240,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,227,145,146,241]));
var SignupView = async () => await __vitePreload(() => import("./SignupView-DXaekgTt.js"), __vite__mapDeps([242,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,145,146]));
var TemplatesCollectionView = async () => await __vitePreload(() => import("./TemplatesCollectionView-DWfI3MDf.js"), __vite__mapDeps([243,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,40,244,245,88,21,89,246,247,20,23,193,22,248,249,250,251,252]));
var TemplatesWorkflowView = async () => await __vitePreload(() => import("./TemplatesWorkflowView-CKn4S8EQ.js"), __vite__mapDeps([253,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,40,244,245,88,21,89,218,82,219,23,193,22,248,249,250,251,254]));
var SetupWorkflowFromTemplateView = async () => await __vitePreload(() => import("./SetupWorkflowFromTemplateView-C05zWevd.js"), __vite__mapDeps([255,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,244,245,88,21,89,20,23,256,193,251,257,22,250,258]));
var TemplatesSearchView = async () => await __vitePreload(() => import("./TemplatesSearchView-sa-rAY94.js"), __vite__mapDeps([259,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,39,40,244,245,88,21,89,246,247,23,22,260]));
var SettingsUsageAndPlan = async () => await __vitePreload(() => import("./SettingsUsageAndPlan-BuFH_khO.js"), __vite__mapDeps([261,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,72,38,24,20,111,26,30,23,262]));
var SettingsSso = async () => await __vitePreload(() => import("./SettingsSso-rC_BPKUi.js"), __vite__mapDeps([263,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,85,26,264,67,265,30,23,266]));
var SignoutView = async () => await __vitePreload(() => import("./SignoutView-Dr1qQkBu.js"), __vite__mapDeps([267,4,5,6,7,8,15,10,16,17,18,19,24,20]));
var SamlOnboarding = async () => await __vitePreload(() => import("./SamlOnboarding-XQVQYUbN.js"), __vite__mapDeps([268,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,85,145,146]));
var SettingsSourceControl = async () => await __vitePreload(() => import("./SettingsSourceControl-E5DYtfMz.js"), __vite__mapDeps([269,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,26,264,67,265,30,23,270]));
var SettingsExternalSecrets = async () => await __vitePreload(() => import("./SettingsExternalSecrets-DNnsVQsZ.js"), __vite__mapDeps([271,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,26,30,23,272,128,273,274]));
var SettingsProvisioningView = async () => await __vitePreload(() => import("./SettingsProvisioningView-CanbitK-.js"), __vite__mapDeps([275,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,276]));
var WorkerView = async () => await __vitePreload(() => import("./WorkerView-D3J0pV2u.js"), __vite__mapDeps([277,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,278,155,24,79,67,80,81,49,82,97,116,37,38,86,279,157,158,159,118,48,25,26,162,30,280]));
var WorkflowHistory = async () => await __vitePreload(() => import("./WorkflowHistory-D-xGylsu.js"), __vite__mapDeps([281,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,156,26,218,82,219,211,30,23,282]));
var WorkflowOnboardingView = async () => await __vitePreload(() => import("./WorkflowOnboardingView-GauJzzDn.js"), __vite__mapDeps([283,8,5,6,15,7,10,16,17,18,19,23,22]));
var EvaluationsView = async () => await __vitePreload(() => import("./EvaluationsView-68czzLEN.js"), __vite__mapDeps([284,1,2,3,4,5,6,7,8,9,10,11,12,13,278,15,16,17,18,19,24,20,224,39,279,134,135,136,285,286,287]));
var TestRunDetailView = async () => await __vitePreload(() => import("./TestRunDetailView-D1TxGvAH.js"), __vite__mapDeps([288,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,24,20,224,39,166,136,285,286,289]));
var EvaluationRootView = async () => await __vitePreload(() => import("./EvaluationsRootView-P2eirmhi.js"), __vite__mapDeps([290,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,79,67,80,81,49,82,111,26,30,291]));
var PrebuiltAgentTemplatesView = async () => await __vitePreload(() => import("./PrebuiltAgentTemplatesView-DlEGenee.js"), __vite__mapDeps([292,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,88,89,46,47,293]));
function getTemplatesRedirect(defaultRedirect) {
	if (!useSettingsStore().isTemplatesEnabled) return { name: `${defaultRedirect}` || VIEWS.NOT_FOUND };
	return false;
}
const routes = [
	{
		path: "/",
		redirect: "/home/workflows",
		meta: { middleware: ["authenticated"] }
	},
	{
		path: "/collections/:id",
		name: VIEWS.COLLECTION,
		components: {
			default: TemplatesCollectionView,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			telemetry: { getProperties(route) {
				const templatesStore = useTemplatesStore();
				return {
					collection_id: route.params.id,
					wf_template_repo_session_id: templatesStore.currentSessionId
				};
			} },
			getRedirect: getTemplatesRedirect,
			middleware: ["authenticated"]
		}
	},
	{
		path: "/templates/agents",
		name: VIEWS.PRE_BUILT_AGENT_TEMPLATES,
		components: {
			default: PrebuiltAgentTemplatesView,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			getRedirect: getTemplatesRedirect,
			middleware: ["authenticated"]
		},
		beforeEnter: (_to, _from, next) => {
			const calloutHelpers = useCalloutHelpers();
			const templatesStore = useTemplatesStore();
			if (!calloutHelpers.isPreBuiltAgentsCalloutVisible.value) window.location.href = templatesStore.websiteTemplateRepositoryURL;
			else next();
		}
	},
	{
		path: "/templates/:id",
		name: VIEWS.TEMPLATE,
		components: {
			default: TemplatesWorkflowView,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			getRedirect: getTemplatesRedirect,
			telemetry: { getProperties(route) {
				const templatesStore = useTemplatesStore();
				return {
					template_id: tryToParseNumber(Array.isArray(route.params.id) ? route.params.id[0] : route.params.id),
					wf_template_repo_session_id: templatesStore.currentSessionId
				};
			} },
			middleware: ["authenticated"]
		}
	},
	{
		path: "/templates/:id/setup",
		name: VIEWS.TEMPLATE_SETUP,
		components: {
			default: SetupWorkflowFromTemplateView,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			getRedirect: getTemplatesRedirect,
			telemetry: { getProperties(route) {
				const templatesStore = useTemplatesStore();
				return {
					template_id: tryToParseNumber(Array.isArray(route.params.id) ? route.params.id[0] : route.params.id),
					wf_template_repo_session_id: templatesStore.currentSessionId
				};
			} },
			middleware: ["authenticated"]
		}
	},
	{
		path: "/templates/",
		name: VIEWS.TEMPLATES,
		components: {
			default: TemplatesSearchView,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			getRedirect: getTemplatesRedirect,
			scrollOffset: 0,
			telemetry: { getProperties() {
				return { wf_template_repo_session_id: useTemplatesStore().currentSessionId };
			} },
			setScrollPosition(pos) {
				this.scrollOffset = pos;
			},
			middleware: ["authenticated"]
		},
		beforeEnter: (_to, _from, next) => {
			const templatesStore = useTemplatesStore();
			if (!templatesStore.hasCustomTemplatesHost) window.location.href = templatesStore.websiteTemplateRepositoryURL;
			else next();
		}
	},
	{
		path: "/workflow/:name/debug/:executionId",
		name: VIEWS.EXECUTION_DEBUG,
		components: {
			default: NodeView,
			header: MainHeader,
			sidebar: MainSidebar,
			footer: LogsPanel
		},
		meta: {
			nodeView: true,
			keepWorkflowAlive: true,
			middleware: ["authenticated", "enterprise"],
			middlewareOptions: { enterprise: { feature: [EnterpriseEditionFeature.DebugInEditor] } }
		}
	},
	{
		path: "/workflow/:name/executions",
		name: VIEWS.WORKFLOW_EXECUTIONS,
		components: {
			default: WorkflowExecutionsView,
			header: MainHeader,
			sidebar: MainSidebar
		},
		meta: {
			keepWorkflowAlive: true,
			middleware: ["authenticated"]
		},
		children: [{
			path: "",
			name: VIEWS.EXECUTION_HOME,
			components: { executionPreview: WorkflowExecutionsLandingPage },
			meta: {
				keepWorkflowAlive: true,
				middleware: ["authenticated"]
			}
		}, {
			path: ":executionId/:nodeId?",
			name: VIEWS.EXECUTION_PREVIEW,
			components: { executionPreview: WorkflowExecutionsPreview },
			meta: {
				keepWorkflowAlive: true,
				middleware: ["authenticated"]
			}
		}]
	},
	{
		path: "/workflow/:name/evaluation",
		name: VIEWS.EVALUATION,
		components: {
			default: EvaluationRootView,
			header: MainHeader,
			sidebar: MainSidebar
		},
		props: { default: true },
		meta: {
			keepWorkflowAlive: true,
			middleware: ["authenticated"]
		},
		children: [{
			path: "",
			name: VIEWS.EVALUATION_EDIT,
			component: EvaluationsView,
			props: true
		}, {
			path: "test-runs/:runId",
			name: VIEWS.EVALUATION_RUNS_DETAIL,
			component: TestRunDetailView,
			props: true
		}]
	},
	{
		path: "/workflow/:workflowId/history/:versionId?",
		name: VIEWS.WORKFLOW_HISTORY,
		components: {
			default: WorkflowHistory,
			sidebar: MainSidebar
		},
		meta: {
			middleware: ["authenticated", "enterprise"],
			middlewareOptions: { enterprise: { feature: [EnterpriseEditionFeature.WorkflowHistory] } }
		}
	},
	{
		path: "/workflows/templates/:id",
		name: VIEWS.TEMPLATE_IMPORT,
		components: {
			default: NodeView,
			header: MainHeader,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			keepWorkflowAlive: true,
			getRedirect: getTemplatesRedirect,
			middleware: ["authenticated"]
		}
	},
	{
		path: "/workflows/onboarding/:id",
		name: VIEWS.WORKFLOW_ONBOARDING,
		components: {
			default: WorkflowOnboardingView,
			header: MainHeader,
			sidebar: MainSidebar
		},
		meta: {
			templatesEnabled: true,
			keepWorkflowAlive: true,
			getRedirect: () => getTemplatesRedirect(VIEWS.NEW_WORKFLOW),
			middleware: ["authenticated"]
		}
	},
	{
		path: "/workflow/new",
		name: VIEWS.NEW_WORKFLOW,
		components: {
			default: NodeView,
			header: MainHeader,
			sidebar: MainSidebar,
			footer: LogsPanel
		},
		meta: {
			nodeView: true,
			keepWorkflowAlive: true,
			middleware: ["authenticated"]
		}
	},
	{
		path: "/workflows/demo",
		name: VIEWS.DEMO,
		components: {
			default: NodeView,
			footer: DemoFooter
		},
		meta: {
			middleware: ["authenticated"],
			middlewareOptions: { authenticated: { bypass: () => {
				return useSettingsStore().isPreviewMode;
			} } }
		}
	},
	{
		path: "/workflow/:name/:nodeId?",
		name: VIEWS.WORKFLOW,
		components: {
			default: NodeView,
			header: MainHeader,
			sidebar: MainSidebar,
			footer: LogsPanel
		},
		meta: {
			nodeView: true,
			keepWorkflowAlive: true,
			middleware: ["authenticated"]
		}
	},
	{
		path: "/workflow",
		redirect: "/workflow/new"
	},
	{
		path: "/signin",
		name: VIEWS.SIGNIN,
		components: { default: SigninView },
		meta: {
			telemetry: { pageCategory: "auth" },
			middleware: ["guest"]
		}
	},
	{
		path: "/signup",
		name: VIEWS.SIGNUP,
		components: { default: SignupView },
		meta: {
			telemetry: { pageCategory: "auth" },
			middleware: ["guest"]
		}
	},
	{
		path: "/signout",
		name: VIEWS.SIGNOUT,
		components: { default: SignoutView },
		meta: {
			telemetry: { pageCategory: "auth" },
			middleware: ["authenticated"]
		}
	},
	{
		path: "/setup",
		name: VIEWS.SETUP,
		components: { default: SetupView },
		meta: {
			middleware: ["defaultUser"],
			telemetry: { pageCategory: "auth" }
		}
	},
	{
		path: "/forgot-password",
		name: VIEWS.FORGOT_PASSWORD,
		components: { default: ForgotMyPasswordView },
		meta: {
			middleware: ["guest"],
			telemetry: { pageCategory: "auth" }
		}
	},
	{
		path: "/change-password",
		name: VIEWS.CHANGE_PASSWORD,
		components: { default: ChangePasswordView },
		meta: {
			middleware: ["guest"],
			telemetry: { pageCategory: "auth" }
		}
	},
	{
		path: "/settings",
		name: VIEWS.SETTINGS,
		component: SettingsView,
		props: true,
		redirect: () => {
			if (useSettingsStore().settings.hideUsagePage) return { name: VIEWS.PERSONAL_SETTINGS };
			return { name: VIEWS.USAGE };
		},
		children: [
			{
				path: "usage",
				name: VIEWS.USAGE,
				components: { settingsView: SettingsUsageAndPlan },
				meta: {
					middleware: ["authenticated", "custom"],
					middlewareOptions: { custom: () => {
						return !useSettingsStore().settings.hideUsagePage;
					} },
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "usage" };
						}
					}
				}
			},
			{
				path: "personal",
				name: VIEWS.PERSONAL_SETTINGS,
				components: { settingsView: SettingsPersonalView },
				meta: {
					middleware: ["authenticated"],
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "personal" };
						}
					}
				}
			},
			{
				path: "users",
				name: VIEWS.USERS_SETTINGS,
				components: { settingsView: SettingsUsersView },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: ["user:create", "user:update"] } },
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "users" };
						}
					}
				}
			},
			{
				path: "project-roles",
				components: { settingsView: RouterView },
				children: [
					{
						path: "",
						name: VIEWS.PROJECT_ROLES_SETTINGS,
						component: async () => await __vitePreload(() => import("./ProjectRolesView-KbPHKITr.js"), __vite__mapDeps([294,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,87,26,30,23,295]))
					},
					{
						path: "new",
						name: VIEWS.PROJECT_NEW_ROLE,
						component: async () => await __vitePreload(() => import("./ProjectRoleView-DyIfF-PR.js"), __vite__mapDeps([296,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,87,297]))
					},
					{
						path: "edit/:roleSlug",
						name: VIEWS.PROJECT_ROLE_SETTINGS,
						component: async () => await __vitePreload(() => import("./ProjectRoleView-DyIfF-PR.js"), __vite__mapDeps([296,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,37,24,20,38,87,297]))
					}
				],
				meta: {
					middleware: [
						"authenticated",
						"rbac",
						"custom"
					],
					middlewareOptions: {
						rbac: { scope: ["role:manage"] },
						custom: () => {
							return useEnvFeatureFlag().check.value("CUSTOM_ROLES");
						}
					},
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "project-roles" };
						}
					}
				}
			},
			{
				path: "api",
				name: VIEWS.API_SETTINGS,
				components: { settingsView: SettingsApiView },
				meta: {
					middleware: ["authenticated"],
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "api" };
						}
					}
				}
			},
			{
				path: "environments",
				name: VIEWS.SOURCE_CONTROL,
				components: { settingsView: SettingsSourceControl },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: "sourceControl:manage" } },
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "environments" };
						}
					}
				}
			},
			{
				path: "external-secrets",
				name: VIEWS.EXTERNAL_SECRETS_SETTINGS,
				components: { settingsView: SettingsExternalSecrets },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: ["externalSecretsProvider:list", "externalSecretsProvider:update"] } },
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "external-secrets" };
						}
					}
				}
			},
			{
				path: "sso",
				name: VIEWS.SSO_SETTINGS,
				components: { settingsView: SettingsSso },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: "saml:manage" } },
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "sso" };
						}
					}
				}
			},
			{
				path: "log-streaming",
				name: VIEWS.LOG_STREAMING_SETTINGS,
				components: { settingsView: SettingsLogStreamingView },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: "logStreaming:manage" } },
					telemetry: { pageCategory: "settings" }
				}
			},
			{
				path: "workers",
				name: VIEWS.WORKER_VIEW,
				components: { settingsView: WorkerView },
				meta: { middleware: ["authenticated"] }
			},
			{
				path: "community-nodes",
				name: VIEWS.COMMUNITY_NODES,
				components: { settingsView: SettingsCommunityNodesView },
				meta: {
					middleware: [
						"authenticated",
						"rbac",
						"custom"
					],
					middlewareOptions: {
						rbac: { scope: ["communityPackage:list", "communityPackage:update"] },
						custom: () => {
							return useSettingsStore().isCommunityNodesFeatureEnabled;
						}
					},
					telemetry: { pageCategory: "settings" }
				}
			},
			{
				path: "ldap",
				name: VIEWS.LDAP_SETTINGS,
				components: { settingsView: SettingsLdapView },
				meta: {
					middleware: ["authenticated", "rbac"],
					middlewareOptions: { rbac: { scope: "ldap:manage" } }
				}
			},
			{
				path: "provisioning",
				name: VIEWS.PROVISIONING_SETTINGS,
				components: { settingsView: SettingsProvisioningView },
				meta: {
					middleware: [
						"authenticated",
						"enterprise",
						"rbac"
					],
					middlewareOptions: {
						enterprise: { feature: "provisioning" },
						rbac: { scope: "provisioning:manage" }
					},
					telemetry: {
						pageCategory: "settings",
						getProperties() {
							return { feature: "provisioning" };
						}
					}
				}
			}
		]
	},
	{
		path: "/saml/onboarding",
		name: VIEWS.SAML_ONBOARDING,
		components: { default: SamlOnboarding },
		meta: {
			middleware: ["authenticated", "custom"],
			middlewareOptions: { custom: () => {
				const settingsStore = useSettingsStore();
				return useSSOStore().isEnterpriseSamlEnabled && !settingsStore.isCloudDeployment;
			} },
			telemetry: { pageCategory: "auth" }
		}
	},
	...projectsRoutes,
	{
		path: "/entity-not-found/:entityType(credential|workflow)",
		props: true,
		name: VIEWS.ENTITY_NOT_FOUND,
		components: {
			default: EntityNotFound,
			sidebar: MainSidebar
		}
	},
	{
		path: "/entity-not-authorized/:entityType(credential|workflow)",
		props: true,
		name: VIEWS.ENTITY_UNAUTHORIZED,
		components: {
			default: EntityUnAuthorised,
			sidebar: MainSidebar
		}
	},
	{
		path: "/:pathMatch(.*)*",
		name: VIEWS.NOT_FOUND,
		component: ErrorView,
		props: {
			messageKey: "error.pageNotFound",
			errorCode: 404,
			redirectTextKey: "error.goBack",
			redirectPage: VIEWS.HOMEPAGE
		},
		meta: {
			nodeView: true,
			telemetry: { disabled: true }
		}
	}
];
function withCanvasReadOnlyMeta(route) {
	if (!route.meta) route.meta = {};
	route.meta.readOnlyCanvas = !EDITABLE_CANVAS_VIEWS.includes(route?.name ?? "");
	if (route.children) route.children = route.children.map(withCanvasReadOnlyMeta);
	return route;
}
var router = createRouter({
	history: createWebHistory(window.BASE_PATH ?? "/"),
	scrollBehavior(to, _, savedPosition) {
		if (savedPosition === null && to.name === VIEWS.TEMPLATES && to.meta?.setScrollPosition) to.meta.setScrollPosition(0);
	},
	routes: routes.map(withCanvasReadOnlyMeta)
});
router.beforeEach(async (to, from, next) => {
	try {
		await initializeCore();
		await initializeAuthenticatedFeatures(void 0, to.name);
		if (useSettingsStore().showSetupPage) {
			if (to.name === VIEWS.SETUP) return next();
			return next({ name: VIEWS.SETUP });
		}
		const routeMiddleware = to.meta?.middleware ?? [];
		const routeMiddlewareOptions = to.meta?.middlewareOptions ?? {};
		for (const middlewareName of routeMiddleware) {
			let nextCalled = false;
			const middlewareNext = ((location) => {
				next(location);
				nextCalled = true;
			});
			const middlewareOptions = routeMiddlewareOptions[middlewareName];
			const middlewareFn = middleware[middlewareName];
			await middlewareFn(to, from, middlewareNext, middlewareOptions);
			if (nextCalled) return;
		}
		return next();
	} catch (failure) {
		const settingsStore = useSettingsStore();
		if (failure instanceof MfaRequiredError && settingsStore.isMFAEnforced) if (to.name !== VIEWS.PERSONAL_SETTINGS) return next({ name: VIEWS.PERSONAL_SETTINGS });
		else return next();
		if (isNavigationFailure(failure)) console.log(failure);
		else console.error(failure);
	}
});
router.afterEach((to, from) => {
	try {
		const telemetry = useTelemetry();
		const uiStore = useUIStore();
		const templatesStore = useTemplatesStore();
		useExternalHooks().run("main.routeChange", {
			from,
			to
		});
		uiStore.currentView = to.name ?? "";
		if (to.meta?.templatesEnabled) templatesStore.setSessionId();
		else templatesStore.resetSessionId();
		telemetry.page(to);
		const { trackResourceOpened } = useRecentResources();
		trackResourceOpened(to);
	} catch (failure) {
		if (isNavigationFailure(failure)) console.log(failure);
		else console.error(failure);
	}
});
var router_default = router;
export { registerModuleRoutes as n, router_default as t };
