import { Bo as useSettingsStore, Ni as useUIStore, a as useNDVStore, ac as STORES, er as useUsersStore, o as useWorkflowsStore } from "./useTelemetry-Ct6_U3iA.js";
import { D as defineStore, t as useRootStore } from "./useRootStore-B7yZgeot.js";
const useWebhooksStore = defineStore(STORES.WEBHOOKS, () => {
	return {
		...useRootStore(),
		...useWorkflowsStore(),
		...useUIStore(),
		...useUsersStore(),
		...useNDVStore(),
		...useSettingsStore()
	};
});
async function runExternalHook(eventName, metadata) {
	if (!window.n8nExternalHooks) return;
	const store = useWebhooksStore();
	const [resource, operator] = eventName.split(".");
	const context = window.n8nExternalHooks[resource];
	if (context?.[operator]) {
		const hookMethods = context[operator];
		for (const hookMethod of hookMethods) await hookMethod(store, metadata);
	}
}
function useExternalHooks() {
	return { run: runExternalHook };
}
export { useExternalHooks as t };
